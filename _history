{"entries":[{"timestamp":1756689299529,"editorVersion":"2.0.56","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":2025,"diffs":[[1," "]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":224,"length1":45,"diffs":[[1,"    \"languageRestriction\": \"javascript-only\",\n    \"additionalFilePaths\": []\n"]]}]}]},{"timestamp":1756689866877,"editorVersion":"2.0.56","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":454,"length1":144,"diffs":[[1,"            let drawX = Math.floor(player.x - cx)\r\n            let drawY = Math.floor(player.y - cy)\r\n"]]},{"start1":558,"length1":2,"diffs":[[1,""]]},{"start1":1226,"length1":59,"diffs":[[1,""]]},{"start1":1233,"length1":0,"diffs":[[1,"}\r\n"]]},{"start1":1240,"length1":2,"diffs":[[1,""]]},{"start1":1983,"length1":76,"diffs":[[1,"player.setFlag(SpriteFlag.Invisible, true)"]]}]}]},{"timestamp":1756690451348,"editorVersion":"2.0.56","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":2129,"length1":70,"diffs":[[1,"scene.cameraFollowSprite(player)"]]}]}]},{"timestamp":1756691180226,"editorVersion":"2.0.56","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":258,"length1":23,"diffs":[[1,"        let cy = h / 2\r\n"]]}]}]},{"timestamp":1756691180372,"editorVersion":"2.0.56","changes":[{"type":"edited","filename":"main.ts","patch":[{"start1":0,"length1":27,"diffs":[[1,""]]},{"start1":26,"length1":24,"diffs":[[1,""]]},{"start1":234,"length1":49,"diffs":[[1,"        let cx = w / 2\r\n        let cy = h / \r\n"]]},{"start1":1341,"length1":1010,"diffs":[[1,"let player = sprites.create(img`\r\n    . . . . c c c b b b b b . . . .\r\n    . . c c b 4 4 4 4 4 4 b b b . .\r\n    . c c 4 4 4 4 4 5 4 4 4 4 b c .\r\n    . e 4 4 4 4 4 4 4 4 4 5 4 4 e .\r\n    e b 4 5 4 4 5 4 4 4 4 4 4 4 b c\r\n    e b 4 4 4 4 4 4 4 4 4 4 5 4 4 e\r\n    e b b 4 4 4 4 4 4 4 4 4 4 4 b e\r\n    . e b 4 4 4 4 4 5 4 4 4 4 b e .\r\n    8 7 e e b 4 4 4 4 4 4 b e e 6 8\r\n    8 7 2 e e e e e e e e e e 2 7 8\r\n    e 6 6 2 2 2 2 2 2 2 2 2 2 6 c e\r\n    e c 6 7 6 6 7 7 7 6 6 7 6 c c e\r\n    e b e 8 8 c c 8 8 c c c 8 e b e\r\n    e e b e c c e e e e e c e b e e\r\n    . e e b b 4 4 4 4 4 4 4 4 e e .\r\n    . . . c c c c c e e e e e . . .\r\n`, SpriteKind.Player)\r\nrotateSprite.rotate(player, 4)\r\ncontroller.moveSprite(player)\r\ncontroller.moveSprite(player)\r\nplayer.setFlag(SpriteFlag.Invisible, true)\r\nscene.cameraFollowSprite(player)\r\nplayer.fx as PulseValue.Low === 2 \r\n"]]}]},{"type":"edited","filename":"pxt.json","patch":[{"start1":79,"length1":326,"diffs":[[1,"        \"device\": \"*\"\n"]]},{"start1":192,"length1":44,"diffs":[[1,""]]}]},{"type":"added","filename":"test.ts","value":"// tests go here; this will not be compiled when this package is used as an extension.\n"},{"type":"added","filename":"main.blocks","value":"<xml xmlns=\"http://www.w3.org/1999/xhtml\">\n  <variables></variables>\n  <block type=\"pxt-on-start\" x=\"0\" y=\"0\"></block>\n</xml>"}]}],"snapshots":[{"timestamp":1756689299528,"editorVersion":"2.0.56","text":{"main.ts":" ","README.md":" ","assets.json":"","pxt.json":"{\n    \"name\": \"rotating sprites\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\"\n    },\n    \"files\": [\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\"\n    ],\n    \"preferredEditor\": \"tsprj\",\n    \"languageRestriction\": \"javascript-only\",\n    \"additionalFilePaths\": []\n}\n"}},{"timestamp":1756691176651,"editorVersion":"2.0.56","text":{"main.ts":"namespace rotateSprite {\r\n    export function rotate(sprite: Sprite, speed: number = 1) {\r\n        // Convert speed to radians per frame\r\n        let angle = 0\r\n        let w = sprite.image.width\r\n        let h = sprite.image.height\r\n        let cx = w / 2\r\n        let cy = h / 2\r\n\r\n        // Small increment: 1 \"unit\" = ~1 degree\r\n        let radPerUnit = Math.PI / 180\r\n\r\n        scene.createRenderable(1, (target: Image, camera: scene.Camera) => {\r\n            let drawX = Math.floor(sprite.x - cx - camera.drawOffsetX)\r\n            let drawY = Math.floor(sprite.y - cy - camera.drawOffsetY)\r\n\r\n\r\n            for (let y = 0; y < h; y++) {\r\n                for (let x = 0; x < w; x++) {\r\n                    let dx = x - cx\r\n                    let dy = y - cy\r\n                    let sx = Math.floor(Math.cos(angle) * dx + Math.sin(angle) * dy + cx)\r\n                    let sy = Math.floor(-Math.sin(angle) * dx + Math.cos(angle) * dy + cy)\r\n                    if (sx >= 0 && sx < w && sy >= 0 && sy < h) {\r\n                        let color = sprite.image.getPixel(sx, sy)\r\n                        target.setPixel(drawX + x, drawY + y, color)\r\n                    }\r\n                }\r\n            }\r\n            angle += speed * (Math.PI / 180)\r\n        })\r\n\r\n            angle += speed * (Math.PI / 180)\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\nlet player = sprites.create(img`\r\n    . . . . c c c b b b b b . . . .\r\n    . . c c b 4 4 4 4 4 4 b b b . .\r\n    . c c 4 4 4 4 4 5 4 4 4 4 b c .\r\n    . e 4 4 4 4 4 4 4 4 4 5 4 4 e .\r\n    e b 4 5 4 4 5 4 4 4 4 4 4 4 b c\r\n    e b 4 4 4 4 4 4 4 4 4 4 5 4 4 e\r\n    e b b 4 4 4 4 4 4 4 4 4 4 4 b e\r\n    . e b 4 4 4 4 4 5 4 4 4 4 b e .\r\n    8 7 e e b 4 4 4 4 4 4 b e e 6 8\r\n    8 7 2 e e e e e e e e e e 2 7 8\r\n    e 6 6 2 2 2 2 2 2 2 2 2 2 6 c e\r\n    e c 6 7 6 6 7 7 7 6 6 7 6 c c e\r\n    e b e 8 8 c c 8 8 c c c 8 e b e\r\n    e e b e c c e e e e e c e b e e\r\n    . e e b b 4 4 4 4 4 4 4 4 e e .\r\n    . . . c c c c c e e e e e . . .\r\n`, SpriteKind.Player)\r\nrotateSprite.rotate(player, 4)\r\ncontroller.moveSprite(player)\r\ncontroller.moveSprite(player)\r\nplayer.setFlag(SpriteFlag.Invisible, true)\r\nscene.cameraFollowSprite(player)\r\nplayer.fx as PulseValue.Low === 2 \r\n","README.md":" ","assets.json":"","pxt.json":"{\n    \"name\": \"rotating sprites\",\n    \"description\": \"\",\n    \"dependencies\": {\n        \"device\": \"*\"\n    },\n    \"files\": [\n        \"main.ts\",\n        \"README.md\",\n        \"assets.json\"\n    ],\n    \"preferredEditor\": \"tsprj\",\n    \"languageRestriction\": \"javascript-only\"\n}\n"}}],"shares":[],"lastSaveTime":1756691759581}